---
layout: single
title: 식별자관계와 비식별자 관계 설정
excerpt: "식별자관계와 비식별자 관계 설정"
categories: blog
tags: [DB, primary_key]
comments: true
share: true
modified: 2016-07-29T01:10:50
---

### 데이터 모델링에서 엔티티타입간의 관계 설정시 PK속성의 위치가 여러 가지 관점에서 중요하다.

- 식별자 관계만을 이용하여 데이터 모델링을 전개할 경우, PK 속성의 숫자가 증가할수록 관련된 SQL 문이 복잡해셔 복잡성으로 인한 개발 오류를 유발.

- 비식별자관계만을 이용하여 데이터 모델링을 전개할 경우, 테이블간의 과다한 조인을 유발하여 조인에 의한 성능 저하를 불러오게 된다.   

-> 이를 해결하기 위한 핵심 아이디어   

: <B>데이터 모델 관계 도출시 비/식별자 관계의 의미를 정확하게 이해하고 업무적 특징, 조인 관계, PK 구성을 고려하여 관계를 결정하는 것.</B>


### 식별자 관계로만 구성할 경우:   

- 자식 엔티티에서 부모엔티티까지 찾아가지 않아도 필요한 정보를 가져올 수 있기 때문에 성능과 개발의 용이성 측면에서 우위에 있을 수 있다.
- 부모에서 자식 엔티티로 내려갈 수록 PK 가 늘어나기 때문에 중복데이터의 기록이 될 수 있고, 쿼리문이 복잡해질수 있다.


### 비식별자관계로만 관계를 구성할 경우:

- 자식 엔티티에서만 정보를 조회할 수 있기 때문에 필요한 데이터가 있으면 유리하다.
- 데이터가 없는 경우 부모 엔티티들을 찾아가야 하기 때문에 여러 테이블의 조인이 유발되고, 데이터가 늘어날 수록 성능이 떨어지는 이슈가 있다.


### 관계를 선정하는 기준

- 식별자 관계에서 비식별자 관계를 파악하는 기술이 필요하다.
- 자식 테이블의 독립적된 PK 구성이 필요한지를 분석하는 부분이 가장 중요하다.


### 요약

|               | 식별자 관계     | 비식별자 관계            |  
| :------------     | :----------- | :------------------ |   
| 목적                | 강한 연결관계 표현| 약한 연결관계 표현 |
| 자식 PK 영향    | 자식 PK 의 구성에 포함됨      | 자식 일반 속성에 포함됨|
| 표기법          | 실선 표현       | 점선 표현|
| 연결 고려사항    | -반드시 부모 엔티티타입 종속| -약한 종속관계|
|               | -자식 PK 구성에 부모 PK 표함 필요| -자식 PK 구성을 독립적으로 구성|
|               | -상속받은 PK 속성으로 타 엔티티타입에 이전 필요| - 자식 PK 구성에 부모 PK 부분 불 필요|
|               | | - 부모쪽의 관계 참여가 선택관계임|
|               | | - 상속받은 PK 속성을 타 엔티티타입에 재상속 차단 필요|

케이스마다 다르겠지만, 내 생각엔 비 식별자 관계로 설정한 다음
결합 인덱스로 
